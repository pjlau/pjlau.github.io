<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> 
	circle {fill: lightblue; stroke: black;} 

	/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons that are used to open the tab content */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}

.tabcontent {
  animation: fadeEffect 1s; /* Fading effect takes 1 second */
}

/* Go from zero to full opacity */
@keyframes fadeEffect {
  from {opacity: 0;}
  to {opacity: 1;}
}

</style>
<body onload='init()'>
<svg width=600 height=600>
</svg>

<!-- Tab links -->
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">London</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">Paris</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">Tokyo</button>
</div>

<!-- Tab content -->
<div id="London" class="tabcontent">
  <h3>London</h3>
  <p>London is the capital city of England.</p>
</div>

<div id="Paris" class="tabcontent">
  <h3>Paris</h3>
  <p>Paris is the capital of France.</p>
</div>

<div id="Tokyo" class="tabcontent">
  <h3>Tokyo</h3>
  <p>Tokyo is the capital of Japan.</p>
</div>

<script>
async function init() {
// Load CSV data
  d3.csv("https://flunky.github.io/cars2017.csv").then(function(data) {

    // Define margins and chart dimensions
    const margin = { top: 50, right: 50, bottom: 50, left: 50 };
    const width = 300 - margin.left - margin.right;
    const height = 300 - margin.top - margin.bottom;

    // Create SVG element
    const svg = d3.select("svg");

    // Define scales
    const xScale = d3.scaleLog([10, 150],[0, width]);
    const yScale = d3.scaleLog([10, 150],[height, 0]);

    // Define axes
    const xAxis = d3.axisBottom(xScale)
      .tickValues([10, 20, 50, 100])
      .tickFormat(d3.format("~s"));

    const yAxis = d3.axisLeft(yScale)
      .tickValues([10, 20, 50, 100])
      .tickFormat(d3.format("~s"));

    
    
    const g = svg.append("g")
                    .attr("transform", "translate(50,50)"); 
    

    // Define circles based on data
    const circles = g.selectAll("circle")
      .data(data)
      .enter()
      .append("circle")
      .attr("cx", d => xScale(d["AverageCityMPG"]))
      .attr("cy", d => yScale(d["AverageHighwayMPG"]))
      .attr("r", d => 2 + Number(d["EngineCylinders"]));
    
    svg.append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
      .call(yAxis); 
    const xheight = height + margin.top;
    
    svg.append("g")
     .attr("transform", "translate(" + margin.left + "," + xheight + ")")
      .call(xAxis);
 
   
    
    
  });

var data = [4,8,15,16,23,42];
var color = ['pink','lightyellow','lightgreen','lightcyan','lightblue','violet'];
var pie = d3.pie();
var arc = d3.arc().innerRadius(0).outerRadius(100);

    // Define the SVG element
    var svg = d3.select("svg");

    // Define the pie chart layout
    var pie = d3.pie();

    // Define the arc generator (adjusted for inner radius)
    var arc = d3.arc()
      .innerRadius(0)
      .outerRadius(100);

    // Create pie chart data based on input data
    var pieData = pie(data);

    // Create a group element to hold pie chart slices
    var pieGroup = svg.append("g")
      .attr("transform", "translate(450,150)");  // Center the pie chart

    // Bind data to pie chart slices and create paths
    pieGroup.selectAll("path")
      .data(pieData)
      .enter()
      .append("path")
        .attr("d", arc)  // Use arc generator to define path
        .attr("fill", function(d, i) { return color[i]; })  // Set color based on color array




}
</script>
</body>
</html>
